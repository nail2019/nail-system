{"ast":null,"code":"import _defineProperty from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\projects\\\\nails\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\projects\\\\nails\\\\client\\\\src\\\\pages\\\\signup\\\\steps\\\\step3\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Button, Container, Form } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../../../../components/loading';\n\nvar Step3 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Step3, _Component);\n\n  function Step3(props) {\n    var _this;\n\n    _classCallCheck(this, Step3);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Step3).call(this, props));\n\n    _this.simulateNetworkRequest = function () {\n      return new Promise(function (resolve) {\n        return setTimeout(resolve, 2000);\n      });\n    };\n\n    _this.renderRedirect = function () {\n      if (_this.state.isRedirect) {\n        return React.createElement(Redirect, {\n          to: \"/about\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        });\n      }\n    };\n\n    _this.prevStep = function () {\n      _this.props.prevStep();\n    };\n\n    _this.verify = function () {\n      var phone = \"+84\".concat(_this.props.phoneNumber);\n      fetch('/api/account/createUser', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          password: _this.state.password,\n          to: phone //nhận 1 props chứa phone number từ step 1 truyền vào\n\n        })\n      }).then(function (data) {\n        data.json().then(function (data) {\n          if (data.success === true) {\n            _this.setState({\n              isRedirect: true\n            });\n          }\n        });\n      });\n    };\n\n    _this.loading = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"loading....\");\n    };\n\n    _this.getPasswordValue = function (e) {\n      var target = e.target;\n      var value = target.value;\n      var name = target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.finish = function () {\n      var _this$state = _this.state,\n          password = _this$state.password,\n          passwordAgain = _this$state.passwordAgain;\n\n      _this.setState({\n        isLoading: true\n      }, function () {\n        _this.simulateNetworkRequest().then(function () {\n          if (password === passwordAgain) {\n            _this.verify();\n\n            _this.simulateNetworkRequest().then(function () {\n              _this.setState({\n                isLoading: false\n              });\n            });\n          }\n        }).catch(function (e) {\n          return console.log(e);\n        });\n      });\n    };\n\n    _this.state = {\n      password: \"\",\n      passwordAgain: \"\",\n      isRedirect: false,\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(Step3, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      clearTimeout(this.simulateNetworkRequest);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isLoading = this.state.isLoading;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"box-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.renderRedirect(), React.createElement(\"div\", {\n        className: \"Content-Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: \"4\",\n        md: \"4\",\n        sx: \"4\",\n        className: \"Left-Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"), React.createElement(Col, {\n        sm: \"8\",\n        md: \"8\",\n        sx: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"D\\xE0i \\xEDt nh\\u1EA5t 6 k\\xFD t\\u1EF1\",\n        className: \"password\",\n        minLength: \"6\",\n        name: \"password\",\n        onChange: this.getPasswordValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        as: Row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: \"4\",\n        md: \"4\",\n        sx: \"4\",\n        className: \"Left-Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"), React.createElement(Col, {\n        sm: \"8\",\n        md: \"8\",\n        sx: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Vui l\\xF2ng x\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n        className: \"password\",\n        name: \"passwordAgain\",\n        onChange: this.getPasswordValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"4\",\n        md: \"4\",\n        sx: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(Col, {\n        sm: \"8\",\n        md: \"8\",\n        sx: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"warning\",\n        className: \"button-success \",\n        onClick: this.finish,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, isLoading ? \"Đang tạo tài khoản\" : \"Hoàn Thành\")))))), isLoading ? React.createElement(Loading, {\n        type: \"spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return Step3;\n}(Component);\n\nexport { Step3 as default };","map":{"version":3,"sources":["D:\\projects\\nails\\client\\src\\pages\\signup\\steps\\step3\\index.js"],"names":["React","Component","Row","Col","Button","Container","Form","Redirect","Loading","Step3","props","simulateNetworkRequest","Promise","resolve","setTimeout","renderRedirect","state","isRedirect","prevStep","verify","phone","phoneNumber","fetch","method","headers","body","JSON","stringify","password","to","then","data","json","success","setState","loading","getPasswordValue","e","target","value","name","finish","passwordAgain","isLoading","catch","console","log","clearTimeout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Button, Container, Form } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Loading from '../../../../components/loading'\r\n\r\nexport default class Step3 extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password: \"\",\r\n      passwordAgain: \"\",\r\n      isRedirect: false,\r\n      isLoading: false\r\n    }\r\n  }\r\n\r\n  simulateNetworkRequest = () => {\r\n    return new Promise(resolve => setTimeout(resolve, 2000));\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.isRedirect) {\r\n      return <Redirect to='/about' />\r\n    }\r\n  }\r\n\r\n\r\n  prevStep = () => {\r\n    this.props.prevStep();\r\n  }\r\n  verify = () => {\r\n    let phone = `+84${this.props.phoneNumber}`\r\n    fetch('/api/account/createUser', {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        password: this.state.password,\r\n        to: phone //nhận 1 props chứa phone number từ step 1 truyền vào\r\n      })\r\n    })\r\n      .then((data) => {\r\n        data.json()\r\n          .then(data => {\r\n            if (data.success === true) {\r\n              this.setState({\r\n                isRedirect: true\r\n              })\r\n            }\r\n          })\r\n      })\r\n  }\r\n  loading = () => {\r\n    return <div>loading....</div>\r\n  }\r\n  getPasswordValue = (e) => {\r\n    let target = e.target;\r\n    let value = target.value;\r\n    let name = target.name;\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n  finish = () => {\r\n    let { password, passwordAgain } = this.state;\r\n    this.setState({ isLoading: true }, () => {\r\n      this.simulateNetworkRequest()\r\n        .then(() => {\r\n          if (password === passwordAgain) {\r\n            this.verify();\r\n            this.simulateNetworkRequest().then(() => {\r\n              this.setState({ isLoading: false })\r\n            })\r\n          }\r\n        })\r\n\r\n\r\n        .catch(e => console.log(e))\r\n    })\r\n  }\r\n  componentWillMount() {\r\n    clearTimeout(this.simulateNetworkRequest)\r\n  }\r\n  render() {\r\n    let { isLoading } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Container className='box-content'>\r\n          {this.renderRedirect()}\r\n          <div className=\"Content-Password\">\r\n            <Form>\r\n              <Form.Group as={Row}>\r\n                <Form.Label column sm=\"4\" md=\"4\" sx=\"4\" className=\"Left-Password\">\r\n                  Mật khẩu mới\r\n              </Form.Label>\r\n                <Col sm=\"8\" md=\"8\" sx=\"8\">\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Dài ít nhất 6 ký tự\"\r\n                    className='password'\r\n                    minLength=\"6\"\r\n                    name=\"password\"\r\n                    onChange={this.getPasswordValue}\r\n                  />\r\n                </Col>\r\n              </Form.Group>\r\n              <Form.Group as={Row}>\r\n                <Form.Label column sm=\"4\" md=\"4\" sx=\"4\" className=\"Left-Password\">\r\n                  Xác nhận mật khẩu\r\n                </Form.Label>\r\n                <Col sm=\"8\" md=\"8\" sx=\"8\">\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Vui lòng xác nhận mật khẩu mới\"\r\n                    className='password'\r\n                    name=\"passwordAgain\"\r\n                    onChange={this.getPasswordValue}\r\n                  />\r\n                </Col>\r\n              </Form.Group>\r\n              <Row>\r\n                <Col sm=\"4\" md=\"4\" sx=\"4\"></Col>\r\n                <Col sm=\"8\" md=\"8\" sx=\"8\">\r\n                  <Button variant=\"warning\" className='button-success ' onClick={this.finish}>\r\n                    {isLoading ? \"Đang tạo tài khoản\" : \"Hoàn Thành\"}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n        </Container>\r\n        {isLoading ? <Loading type=\"spin\" /> : null}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}